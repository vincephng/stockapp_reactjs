{"ast":null,"code":"import _slicedToArray from \"/Users/vinceng/Downloads/Code Place /stock_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { iex } from '../config/iex.js';\nimport axios from 'axios';\nexport var stock = {\n  callApi: function callApi(ticker, callback) {\n    axios.get(stock.lastestURL(ticker), {\n      timeout: 3000\n    }).then(function (res) {\n      callback(stock.formattedData(res.data));\n    }).catch(function (err) {\n      callback(stock.handlingError(err));\n    });\n  },\n  lastestURL: function lastestURL(ticker) {\n    var thisUrl = iex.base_url + ticker + iex.typeQuote + iex.api_key_vinc3;\n    return thisUrl;\n  },\n  formattedData: function formattedData(data) {\n    var stockData = data; // console.log(stockData)\n\n    var shortData = {};\n\n    for (var _i = 0, _Object$entries = Object.entries(stockData); _i < _Object$entries.length; _i++) {\n      var _ref3 = _Object$entries[_i];\n\n      var _ref2 = _slicedToArray(_ref3, 1);\n\n      var key = _ref2[0];\n      var stockx = stockData[key];\n      shortData = {\n        symbol: stockx.quote.symbol,\n        nameCompany: stockx.quote.companyName,\n        latestPrice: '$' + stockx.quote.latestPrice.toFixed(2),\n        previousClose: stockx.quote.previousClose,\n        percentChange: parseFloat(stockx.quote.changePercent).toFixed(3),\n        marketCap: formattNum.nFormatter(stockx.quote.marketCap),\n        wksHigh: stockx.quote.week52High,\n        wksLow: stockx.quote.week52Low,\n        highPrice: stockx.quote.high,\n        ytdChange: stockx.quote.ytdChange,\n        avgVolume: stockx.quote.avgTotalVolume.toLocaleString()\n      };\n      return shortData;\n    }\n  },\n  handlingError: function handlingError(error) {\n    var errorObj = {\n      status: error.response.status,\n      errData: error.response.data,\n      reason: error.response.statusText\n    };\n    return errorObj;\n  }\n};\nvar formattNum = {\n  nFormatter: function nFormatter(number) {\n    var si = [{\n      value: 1,\n      symbol: \"\"\n    }, {\n      value: 1E3,\n      symbol: \"k\"\n    }, {\n      value: 1E6,\n      symbol: \"M\"\n    }, {\n      value: 1E9,\n      symbol: \"B\"\n    }, {\n      value: 1E12,\n      symbol: \"T\"\n    }, {\n      value: 1E15,\n      symbol: \"P\"\n    }, {\n      value: 1E18,\n      symbol: \"E\"\n    }];\n    var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    var i;\n\n    for (i = si.length - 1; i > 0; i--) {\n      if (number >= si[i].value) {\n        break;\n      }\n    }\n\n    return (number / si[i].value).toFixed(0).replace(rx, \"$1\") + si[i].symbol;\n  }\n};","map":{"version":3,"sources":["/Users/vinceng/Downloads/Code Place /stock_react/src/resources/stock.js"],"names":["iex","axios","stock","callApi","ticker","callback","get","lastestURL","timeout","then","res","formattedData","data","catch","err","handlingError","thisUrl","base_url","typeQuote","api_key_vinc3","stockData","shortData","Object","entries","key","stockx","symbol","quote","nameCompany","companyName","latestPrice","toFixed","previousClose","percentChange","parseFloat","changePercent","marketCap","formattNum","nFormatter","wksHigh","week52High","wksLow","week52Low","highPrice","high","ytdChange","avgVolume","avgTotalVolume","toLocaleString","error","errorObj","status","response","errData","reason","statusText","number","si","value","rx","i","length","replace"],"mappings":"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","sourcesContent":["import {iex} from '../config/iex.js'\nimport axios from 'axios'\n\n\nexport const stock =  {\n   \n    callApi: (ticker, callback) => { \n    axios.get(stock.lastestURL(ticker),{timeout:3000})\n         .then((res) => {callback(stock.formattedData(res.data))})\n         .catch((err) => {callback(stock.handlingError(err))})\n    \n    },\n\n\n\nlastestURL:(ticker) =>{\n    const thisUrl = iex.base_url + ticker + iex.typeQuote + iex.api_key_vinc3\n    return thisUrl\n},\n\nformattedData: (data) =>{\n    const stockData = data\n    // console.log(stockData)\n    let shortData = {}\n    \n    for(let [key] of Object.entries(stockData)){\n        const stockx = stockData[key];\n        shortData = {\n        symbol: stockx.quote.symbol,\n        nameCompany: stockx.quote.companyName,\n        latestPrice: '$'+ (stockx.quote.latestPrice).toFixed(2),\n        previousClose:stockx.quote.previousClose,\n        percentChange:parseFloat(stockx.quote.changePercent).toFixed(3),\n        marketCap:formattNum.nFormatter(stockx.quote.marketCap),\n        wksHigh:stockx.quote.week52High,\n        wksLow:stockx.quote.week52Low,\n        highPrice: stockx.quote.high,\n        ytdChange: stockx.quote.ytdChange,\n        avgVolume: stockx.quote.avgTotalVolume.toLocaleString()\n        };\n        \n    return shortData\n       }\n },\n handlingError: (error)=>{\n     const errorObj = {status: error.response.status,\n                       errData: error.response.data,\n                       reason: error.response.statusText}\n     return errorObj\n }\n}\n\nconst formattNum = {\n    nFormatter: (number) =>{\n        var si = [\n            { value: 1, symbol: \"\" },\n            { value: 1E3, symbol: \"k\" },\n            { value: 1E6, symbol: \"M\" },\n            { value: 1E9, symbol: \"B\" },\n            { value: 1E12, symbol: \"T\" },\n            { value: 1E15, symbol: \"P\" },\n            { value: 1E18, symbol: \"E\" }\n          ];\n          var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n          var i;\n          for (i = si.length - 1; i > 0; i--) {\n            if (number >= si[i].value) {\n              break;\n            }\n          }\n          return (number / si[i].value).toFixed(0).replace(rx, \"$1\") + si[i].symbol;\n    },\n}"]},"metadata":{},"sourceType":"module"}