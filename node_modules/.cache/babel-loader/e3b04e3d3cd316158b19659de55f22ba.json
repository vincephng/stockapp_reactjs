{"ast":null,"code":"import _classCallCheck from \"/Users/vinceng/Downloads/Code Place /stock_react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vinceng/Downloads/Code Place /stock_react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vinceng/Downloads/Code Place /stock_react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vinceng/Downloads/Code Place /stock_react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vinceng/Downloads/Code Place /stock_react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vinceng/Downloads/Code Place /stock_react/frontend/src/component/SearchBar.js\";\nimport React, { Component } from \"react\";\nimport \"../style/home.css\";\nimport history from \"../routes/history\";\nimport searchName from \"../file/searchName.json\";\n\nvar StockInfo = /*#__PURE__*/function (_Component) {\n  _inherits(StockInfo, _Component);\n\n  function StockInfo(props) {\n    var _this;\n\n    _classCallCheck(this, StockInfo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StockInfo).call(this, props));\n\n    _this.handleOnClick = function (e) {\n      e.preventDefault();\n      var array = _this.state.result;\n\n      var isValid = _this.checkValid();\n\n      if (isValid === true) {\n        if (array.length === 0) {\n          _this.setState({\n            warningInput: \"Company is not found. Please Try Again.\"\n          });\n        } else if (array.length > 0) {\n          var symbol = array[0].symbol;\n          history.push({\n            pathname: \"/stock/\".concat(symbol)\n          });\n        }\n      } //  history.push({pathname: `/stock/${id}`})\n\n    };\n\n    _this.handleOnChange = function (event) {\n      var input = event.target.value;\n      var filteredname = searchName.filter(function (id) {\n        return id.name.toLowerCase().includes(input.toLowerCase());\n      });\n      var filtersymbol = searchName.filter(function (id) {\n        return id.symbol.toLowerCase() === input.toLowerCase();\n      });\n\n      if (filtersymbol.length === 1) {\n        _this.setState({\n          result: filtersymbol,\n          suggestion: filtersymbol\n        });\n      } else {\n        _this.setState({\n          result: filteredname,\n          suggestion: filteredname.slice(0, 5)\n        });\n      } // this.comparation(filteredname,filtersymbol)}\n\n\n      _this.setState({\n        ticker: input\n      });\n\n      if (!input) {\n        _this.setState({\n          suggestion: [],\n          warningInput: \"\"\n        });\n      }\n\n      console.log(filteredname, filtersymbol);\n    };\n\n    _this.handleOnKeyPress = function (enter) {\n      if (enter.charCode === 13) {\n        enter.preventDefault(); //  this.handleOnClick()\n      }\n    };\n\n    _this.handleOnSubmit = function (submit) {\n      submit.preventDefault();\n    };\n\n    _this.checkValid = function () {\n      var input = _this.state.ticker;\n\n      if (!/^([^0-9]*)$/i.test(input)) {\n        // if(!/^[a-zA-Z]+$/.test(input)){\n        // if(!/^[a-zA-Z]+$/i.test(input)){\n        _this.setState({\n          warningInput: \"Please input valid symbol\",\n          suggestion: []\n        });\n      } else if (!input) {\n        _this.setState({\n          warningInput: \"Input Required\"\n        });\n      } else {\n        _this.setState({\n          warningInput: \"\"\n        });\n\n        return true;\n      }\n    };\n\n    _this.state = {\n      ticker: \"\",\n      warningInput: \"\",\n      searchData: {\n        searchName: searchName\n      },\n      result: [],\n      suggestion: []\n    };\n    return _this;\n  }\n\n  _createClass(StockInfo, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var rec = this.state.suggestion;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"stock-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"stock-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"\",\n        onClick: this.handleOnClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }, \"Search\")), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleOnSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"stock-input\",\n        type: \"text\",\n        onChange: this.handleOnChange,\n        onKeyPress: this.handleOnKeyPress,\n        placeholder: \"name or symbol\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"warning-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }, this.state.warningInput)), rec.map(function (each) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"suggestion\",\n          key: each.symbol,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }\n        }, each.name, \" (\", each.symbol, \")\");\n      })));\n    }\n  }]);\n\n  return StockInfo;\n}(Component);\n\nexport default StockInfo;","map":{"version":3,"sources":["/Users/vinceng/Downloads/Code Place /stock_react/frontend/src/component/SearchBar.js"],"names":["React","Component","history","searchName","StockInfo","props","handleOnClick","e","preventDefault","array","state","result","isValid","checkValid","length","setState","warningInput","symbol","push","pathname","handleOnChange","event","input","target","value","filteredname","filter","id","name","toLowerCase","includes","filtersymbol","suggestion","slice","ticker","console","log","handleOnKeyPress","enter","charCode","handleOnSubmit","submit","test","searchData","rec","map","each"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../style/home.css\";\nimport history from \"../routes/history\";\nimport searchName from \"../file/searchName.json\";\n\nclass StockInfo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ticker: \"\",\n      warningInput: \"\",\n      searchData: { searchName },\n      result: [],\n      suggestion: [],\n    };\n  }\n\n  handleOnClick = (e) => {\n    e.preventDefault();\n    const array = this.state.result;\n    const isValid = this.checkValid();\n    if (isValid === true) {\n      if (array.length === 0) {\n        this.setState({\n          warningInput: \"Company is not found. Please Try Again.\",\n        });\n      } else if (array.length > 0) {\n        const symbol = array[0].symbol;\n        history.push({ pathname: `/stock/${symbol}` });\n      }\n    }\n\n    //  history.push({pathname: `/stock/${id}`})\n  };\n\n  handleOnChange = (event) => {\n    const input = event.target.value;\n    const filteredname = searchName.filter((id) =>\n      id.name.toLowerCase().includes(input.toLowerCase())\n    );\n    const filtersymbol = searchName.filter((id) => {\n      return id.symbol.toLowerCase() === input.toLowerCase();\n    });\n\n    if (filtersymbol.length === 1) {\n      this.setState({ result: filtersymbol, suggestion: filtersymbol });\n    } else {\n      this.setState({\n        result: filteredname,\n        suggestion: filteredname.slice(0, 5),\n      });\n    }\n\n    // this.comparation(filteredname,filtersymbol)}\n\n    this.setState({ ticker: input });\n    if (!input) {\n      this.setState({ suggestion: [], warningInput: \"\" });\n    }\n    console.log(filteredname, filtersymbol);\n  };\n  handleOnKeyPress = (enter) => {\n    if (enter.charCode === 13) {\n      enter.preventDefault();\n      //  this.handleOnClick()\n    }\n  };\n  handleOnSubmit = (submit) => {\n    submit.preventDefault();\n  };\n\n  //  comparation = (arrName,arrSymbol) =>{\n  //    const nameLength = arrName.length\n  //    const symbolLength = arrSymbol.length\n  //    if(nameLength > 0 && symbolLength > 0 ){\n  //      const min = Math.min(nameLength,symbolLength)\n  //      if(nameLength == min){\n  //       this.setState({result: arrName, suggestion: arrName.slice(0,5)})\n  //      }else{\n  //       this.setState({result: arrSymbol, suggestion: arrSymbol.slice(0,5)})}\n  //    }else{\n  //      const max = Math.max(nameLength,symbolLength)\n  //      if(nameLength == max){\n  //       this.setState({result: arrName,suggestion: arrName.slice(0,5)})\n  //      }else{\n  //       this.setState({result: arrSymbol,suggestion: arrSymbol.slice(0,5)})\n  //      }\n  //    }\n  //    console.log(this.state.result)\n\n  //  }\n\n  checkValid = () => {\n    const input = this.state.ticker;\n    if (!/^([^0-9]*)$/i.test(input)) {\n      // if(!/^[a-zA-Z]+$/.test(input)){\n      // if(!/^[a-zA-Z]+$/i.test(input)){\n      this.setState({\n        warningInput: \"Please input valid symbol\",\n        suggestion: [],\n      });\n    } else if (!input) {\n      this.setState({ warningInput: \"Input Required\" });\n    } else {\n      this.setState({ warningInput: \"\" });\n      return true;\n    }\n  };\n  render() {\n    const rec = this.state.suggestion;\n\n    return (\n      <>\n        <div className=\"stock-search\">\n          <h1 className=\"stock-text\">\n            <a href=\"\" onClick={this.handleOnClick}>\n              Search\n            </a>\n          </h1>\n          <form onSubmit={this.handleOnSubmit}>\n            <input\n              className=\"stock-input\"\n              type=\"text\"\n              onChange={this.handleOnChange}\n              onKeyPress={this.handleOnKeyPress}\n              placeholder=\"name or symbol\"\n            />\n            <br />\n            <div className=\"warning-text\">{this.state.warningInput}</div>\n          </form>\n          {rec.map((each) => {\n            return (\n              <div className=\"suggestion\" key={each.symbol}>\n                {each.name} ({each.symbol})\n              </div>\n            );\n          })}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default StockInfo;\n"]},"metadata":{},"sourceType":"module"}