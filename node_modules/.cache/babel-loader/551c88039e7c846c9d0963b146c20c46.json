{"ast":null,"code":"import _slicedToArray from \"/Users/vinceng/Downloads/Code Place /stock_react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/vinceng/Downloads/Code Place /stock_react/frontend/src/component/Chart.js\";\n\nimport { Line } from 'react-chartjs-2';\nimport React, { useState, useEffect } from 'react';\nimport { iex } from '../config/iex';\nimport axios from 'axios';\n\nvar Chart = function Chart(key) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      dataChart = _useState2[0],\n      setDataChart = _useState2[1];\n\n  useEffect(function () {\n    var thisUrl = iex.base_url + key.symbol + iex.typeChart + iex.api_key_vinc3;\n    axios.get(thisUrl).then(function (res) {\n      filteredData(res.data);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  }, []); //   console.log(dataChart);\n\n  var filteredData = function filteredData(res) {\n    var stockData = res; // console.log(stockData)\n\n    var labelData = [];\n    var priceData = [];\n    var chartData = {};\n\n    for (var _i = 0, _Object$entries = Object.entries(stockData); _i < _Object$entries.length; _i++) {\n      var _ref3 = _Object$entries[_i];\n\n      var _ref2 = _slicedToArray(_ref3, 1);\n\n      var _key = _ref2[0];\n      var stockK = stockData[_key].chart;\n      console.log(stockK);\n      stockK.forEach(function (element) {\n        labelData.push(element.label);\n        priceData.push(element.close);\n      });\n      chartData = {\n        label: labelData,\n        price: priceData\n      };\n    } // console.log(labelData,priceData)\n\n\n    setDataChart(chartData);\n  };\n\n  var data = {\n    labels: dataChart.label,\n    datasets: [{\n      label: 'Price',\n      data: dataChart.price,\n      backgroundColor: '\"#3e95cd\"',\n      borderColor: '#8e5ea2',\n      pointBackgroundColor: '#fff'\n    }]\n  };\n  var options = {\n    legend: {\n      display: false,\n      labels: {\n        font: {\n          size: 30\n        }\n      }\n    },\n    title: {\n      display: true,\n      text: ''\n    },\n    tooltips: {\n      enabled: false\n    },\n    reponsive: true,\n    scale: {\n      scaleLabel: {\n        fontColor: '#8e5ea2'\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    data: data,\n    options: options,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }\n  }));\n};\n\nexport default Chart;","map":{"version":3,"sources":["/Users/vinceng/Downloads/Code Place /stock_react/frontend/src/component/Chart.js"],"names":["Line","React","useState","useEffect","iex","axios","Chart","key","dataChart","setDataChart","thisUrl","base_url","symbol","typeChart","api_key_vinc3","get","then","res","filteredData","data","catch","error","console","log","stockData","labelData","priceData","chartData","Object","entries","stockK","chart","forEach","element","push","label","close","price","labels","datasets","backgroundColor","borderColor","pointBackgroundColor","options","legend","display","font","size","title","text","tooltips","enabled","reponsive","scale","scaleLabel","fontColor"],"mappings":"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","sourcesContent":["import {Line} from 'react-chartjs-2'\nimport React,{useState, useEffect} from 'react'\nimport {iex} from '../config/iex'\nimport axios from 'axios'\n\n\nconst Chart = (key) =>{\n    const [dataChart, setDataChart] = useState([])\n    useEffect (() => {\n        const thisUrl = iex.base_url+ key.symbol + iex.typeChart+ iex.api_key_vinc3\n        axios\n          .get(thisUrl)\n          .then(res => {filteredData(res.data);})\n          .catch(error => console.log(error));\n      }, []);\n    //   console.log(dataChart);\n   const filteredData = (res)=>{\n        const stockData = res\n        // console.log(stockData)\n        let labelData = []\n        let priceData = []\n        let chartData = {}\n    \n        for(let [key] of Object.entries(stockData)){\n            const stockK = stockData[key].chart;\n            console.log(stockK)\n            stockK.forEach(element => {\n                labelData.push(element.label)\n                priceData.push(element.close)\n            });\n            chartData = {label: labelData, price: priceData}\n        }\n        // console.log(labelData,priceData)\n        setDataChart(chartData)\n   }\n   \n   const data =({\n       labels: dataChart.label,\n       datasets:[{\n           label: 'Price',\n           data: dataChart.price,\n           backgroundColor: '\"#3e95cd\"',\n           borderColor: '#8e5ea2',\n           pointBackgroundColor: '#fff',\n           \n        }],\n   })\n\n   const options = ({\n        legend: {display: false,\n                labels: {font: { size: 30}}},\n        title: {\n            display: true,\n            text: ''\n        },\n        tooltips: {\n            enabled: false\n        },\n        reponsive: true,\n        scale: {\n            scaleLabel:{\n                fontColor: '#8e5ea2'\n            }\n        },\n    })\n\n   return(\n       <div className=\"chart\">\n           <Line\n              data = {data}\n              options={options}/>\n       </div>\n   )\n}\n\nexport default Chart;"]},"metadata":{},"sourceType":"module"}